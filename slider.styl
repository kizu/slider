@import 'nib'

$switch_height = 1.5em
$switch_radius = 5px

.b-mail-switch
  display: inline-block

  vertical-align: middle
  white-space: nowrap

  padding: 0

  position: relative
  overflow: hidden

.b-mail-switch__input
  font: 20px/$switch_height "Helvetica Neue", Arial, sans-serif

  position: relative
  z-index: 1
  display: inline-block
  background: linear-gradient(left, #3290DE 50%, #ACACAC 50%)
  background-size: 200% 100%

  text-align: center

  border-radius: $switch_radius

  height: $switch_height
  padding: 0 (($switch_height*1.2) / 2)

  vertical-align: top
  cursor: pointer

  user-select: none

  color: #FFF
  text-shadow: 0 -1px 0 rgba(#000,0.75)

  transition: background-position .3s

.b-mail-switch__input:after
  content: ""
  position: absolute
  top: 0
  right: 0
  bottom: 0
  left: 0

  box-shadow: inset 0 2px 6px rgba(#000,.5)
  border-radius: $switch_radius


.b-mail-switch__inner
  display: block
  position: relative
  left: 0%

  height: 100%

  transition: left .3s


.b-mail-switch__checkbox:checked + .b-mail-switch__input
  background-position: 100% 0

.b-mail-switch__checkbox:checked + .b-mail-switch__input > .b-mail-switch__inner
  left: -100%


.b-mail-switch__state
  position: relative
  display: block

  height: 100%
  max-width: 100%

.b-mail-switch__state_left
  padding-right: ($switch_height*1.2)

.b-mail-switch__state_right
  top: -100%
  left: 100%

  padding-left: ($switch_height*1.2)

.b-mail-switch__state_left:empty:before
  content: ""
  display: inline-block

  height: .7em
  border-left: .1em solid
  box-shadow: 0 -1px 0 rgba(#000,0.5)

.b-mail-switch__state_right:empty:before
  content: ""
  display: inline-block

  height: .5em
  width: .5em
  border: .1em solid
  margin: 0 -.35em
  box-shadow: 0 -1px 0 rgba(#000,0.5)
  border-radius: 50%


.b-mail-switch__inner:after
  content: ""
  position: absolute
  z-index: 9
  top: 0
  bottom: 0
  left: 100%

  width: ($switch_height*1.2)
  margin: 0 0 0 (@width / -2)

  border-radius: $switch_radius
  background: linear-gradient(#FDFDFD,#E8E8E8)

  box-shadow: inset 0 0 0 1px #606060,
              -5px 0 5px -3px rgba(#000,.2),
               5px 0 5px -3px rgba(#000,.2)

.b-mail-switch__checkbox
  position: absolute
  visibility: hidden


